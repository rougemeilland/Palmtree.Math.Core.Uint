; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27026.1 

	TITLE	Z:\Sources\Lunor\Repos\rougemeilland\Palmtree.Math.Core.Uint\Palmtree.Math.Core.Uint\pmc_getpropertyvalue.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_Initialize_GetPropertyValue
PUBLIC	_PMC_GetNumberType_X@8
EXTRN	_CheckNumber:PROC
; Function compile flags: /Ogtp
; File z:\sources\lunor\repos\rougemeilland\palmtree.math.core.uint\palmtree.math.core.uint\pmc_getpropertyvalue.c
;	COMDAT _PMC_GetNumberType_X@8
_TEXT	SEGMENT
_x$ = 8							; size = 4
_o$ = 12						; size = 4
_PMC_GetNumberType_X@8 PROC				; COMDAT

; 31   : {

	push	ebp
	mov	ebp, esp
	push	ebx

; 32   :     if (x == NULL)

	mov	ebx, DWORD PTR _x$[ebp]
	push	esi
	test	ebx, ebx
	je	SHORT $LN10@PMC_GetNum

; 33   :         return (PMC_STATUS_ARGUMENT_ERROR);
; 34   :     if (o == NULL)

	mov	esi, DWORD PTR _o$[ebp]
	test	esi, esi
	je	SHORT $LN10@PMC_GetNum

; 36   :     PMC_STATUS_CODE result;
; 37   :     NUMBER_HEADER* nx = (NUMBER_HEADER*)x;
; 38   :     if ((result = CheckNumber(nx)) != PMC_STATUS_OK)

	push	ebx
	call	_CheckNumber
	add	esp, 4
	test	eax, eax
	jne	SHORT $LN1@PMC_GetNum

; 39   :         return (result);
; 40   :     PMC_NUMBER_TYPE_CODE value = 0;
; 41   :     if (nx->IS_ZERO)

	mov	ebx, DWORD PTR [ebx+24]
	mov	ecx, ebx
	shr	ecx, 1

; 42   :         value |= 0x01;
; 43   :     if (nx->IS_ONE)

	mov	eax, ebx
	and	ecx, 1

; 44   :         value |= 0x02;
; 45   :     if (nx->IS_EVEN)

	mov	edx, ecx
	or	edx, 2
	and	al, 4
	mov	eax, ebx
	cmove	edx, ecx

; 46   :         value |= 0x08;
; 47   :     if (nx->IS_POWER_OF_TWO)

	mov	ecx, edx
	or	ecx, 8
	and	al, 8
	cmove	ecx, edx

; 48   :         value |= 0x10;
; 49   :     *o = value;

	mov	eax, ecx
	or	eax, 16					; 00000010H
	and	bl, 16					; 00000010H
	cmove	eax, ecx
	mov	DWORD PTR [esi], eax

; 50   :     return (PMC_STATUS_OK);

	xor	eax, eax
	pop	esi

; 51   : }

	pop	ebx
	pop	ebp
	ret	8
$LN10@PMC_GetNum:

; 35   :         return (PMC_STATUS_ARGUMENT_ERROR);

	or	eax, -1
$LN1@PMC_GetNum:
	pop	esi

; 51   : }

	pop	ebx
	pop	ebp
	ret	8
_PMC_GetNumberType_X@8 ENDP
_TEXT	ENDS
; Function compile flags: /Ogtp
; File z:\sources\lunor\repos\rougemeilland\palmtree.math.core.uint\palmtree.math.core.uint\pmc_getpropertyvalue.c
;	COMDAT _Initialize_GetPropertyValue
_TEXT	SEGMENT
_feature$ = 8						; size = 4
_Initialize_GetPropertyValue PROC			; COMDAT

; 55   :     return (PMC_STATUS_OK);

	xor	eax, eax

; 56   : }

	ret	0
_Initialize_GetPropertyValue ENDP
_TEXT	ENDS
END
