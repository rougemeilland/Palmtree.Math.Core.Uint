; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27026.1 

	TITLE	Z:\Sources\Lunor\Repos\rougemeilland\Palmtree.Math.Core.Uint\Palmtree.Math.Core.Uint\dllmain.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_DllMain@12
EXTRN	_AllocateHeapArea:PROC
EXTRN	_DeallocateHeapArea:PROC
; Function compile flags: /Ogtp
; File z:\sources\lunor\repos\rougemeilland\palmtree.math.core.uint\palmtree.math.core.uint\dllmain.c
;	COMDAT _DllMain@12
_TEXT	SEGMENT
_hinstDLL$ = 8						; size = 4
_dwReason$ = 12						; size = 4
_lpvReserved$ = 16					; size = 4
_DllMain@12 PROC					; COMDAT

; 35   : {

	push	ebp
	mov	ebp, esp

; 36   : 	BOOL result = TRUE;
; 37   : 	switch (dwReason)

	mov	eax, DWORD PTR _dwReason$[ebp]
	push	esi
	mov	esi, 1
	cmp	eax, 3
	ja	SHORT $LN9@DllMain
	jmp	DWORD PTR $LN12@DllMain[eax*4]
$LN4@DllMain:

; 38   : 	{
; 39   :         case DLL_PROCESS_ATTACH: // DLLがプロセスのアドレス空間にマッピングされた。
; 40   :             if (!AllocateHeapArea())

	call	_AllocateHeapArea
	test	eax, eax
	jne	SHORT $LN2@DllMain
$LN9@DllMain:

; 52   :             break;
; 53   :         default:
; 54   :             result = FALSE;
; 55   :             break;
; 56   : 	}
; 57   : 	return (result);

	xor	esi, esi
$LN2@DllMain:
	mov	eax, esi
	pop	esi

; 58   : }

	pop	ebp
	ret	12					; 0000000cH
$LN8@DllMain:

; 41   :                 result = FALSE;
; 42   :             break;
; 43   : 
; 44   :         case DLL_THREAD_ATTACH: // スレッドが作成されようとしている。
; 45   :             break;
; 46   : 
; 47   :         case DLL_THREAD_DETACH: // スレッドが破棄されようとしている。
; 48   :             break;
; 49   : 
; 50   :         case DLL_PROCESS_DETACH: // DLLのマッピングが解除されようとしている。
; 51   :             DeallocateHeapArea();

	call	_DeallocateHeapArea

; 52   :             break;
; 53   :         default:
; 54   :             result = FALSE;
; 55   :             break;
; 56   : 	}
; 57   : 	return (result);

	mov	eax, esi
	pop	esi

; 58   : }

	pop	ebp
	ret	12					; 0000000cH
	npad	2
$LN12@DllMain:
	DD	$LN8@DllMain
	DD	$LN4@DllMain
	DD	$LN2@DllMain
	DD	$LN2@DllMain
_DllMain@12 ENDP
_TEXT	ENDS
END
