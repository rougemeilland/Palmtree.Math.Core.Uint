; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27027.1 

include listing.inc

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	DllMain
EXTRN	?AllocateHeapArea@Internal@Core@Math@Palmtree@@YAHXZ:PROC ; Palmtree::Math::Core::Internal::AllocateHeapArea
EXTRN	?DeallocateHeapArea@Internal@Core@Math@Palmtree@@YAXXZ:PROC ; Palmtree::Math::Core::Internal::DeallocateHeapArea
;	COMDAT pdata
pdata	SEGMENT
$pdata$DllMain DD imagerel $LN15
	DD	imagerel $LN15+59
	DD	imagerel $unwind$DllMain
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$DllMain DD 010401H
	DD	04204H
xdata	ENDS
; Function compile flags: /Ogtpy
; File z:\sources\lunor\repos\rougemeilland\palmtree.math.core.uint\palmtree.math.core.uint\dllmain.cpp
;	COMDAT DllMain
_TEXT	SEGMENT
hinstDLL$ = 48
dwReason$ = 56
lpvReserved$ = 64
DllMain	PROC						; COMDAT

; 39   :         {

$LN15:
  00000	48 83 ec 28	 sub	 rsp, 40			; 00000028H

; 40   :             BOOL result = TRUE;
; 41   :             switch (dwReason)

  00004	85 d2		 test	 edx, edx
  00006	74 24		 je	 SHORT $LN8@DllMain
  00008	83 ea 01	 sub	 edx, 1
  0000b	74 11		 je	 SHORT $LN4@DllMain
  0000d	83 ea 01	 sub	 edx, 1
  00010	74 1f		 je	 SHORT $LN13@DllMain
  00012	83 fa 01	 cmp	 edx, 1
  00015	74 1a		 je	 SHORT $LN13@DllMain

; 56   :                 break;
; 57   :             default:
; 58   :                 result = FALSE;
; 59   :                 break;
; 60   :             }
; 61   :             return (result);

  00017	33 c0		 xor	 eax, eax

; 62   :         }

  00019	48 83 c4 28	 add	 rsp, 40			; 00000028H
  0001d	c3		 ret	 0
$LN4@DllMain:

; 42   :             {
; 43   :             case DLL_PROCESS_ATTACH: // DLLがプロセスのアドレス空間にマッピングされた。
; 44   :                 if (!AllocateHeapArea())

  0001e	e8 00 00 00 00	 call	 ?AllocateHeapArea@Internal@Core@Math@Palmtree@@YAHXZ ; Palmtree::Math::Core::Internal::AllocateHeapArea
  00023	85 c0		 test	 eax, eax
  00025	75 0a		 jne	 SHORT $LN13@DllMain

; 62   :         }

  00027	48 83 c4 28	 add	 rsp, 40			; 00000028H
  0002b	c3		 ret	 0
$LN8@DllMain:

; 45   :                     result = FALSE;
; 46   :                 break;
; 47   : 
; 48   :             case DLL_THREAD_ATTACH: // スレッドが作成されようとしている。
; 49   :                 break;
; 50   : 
; 51   :             case DLL_THREAD_DETACH: // スレッドが破棄されようとしている。
; 52   :                 break;
; 53   : 
; 54   :             case DLL_PROCESS_DETACH: // DLLのマッピングが解除されようとしている。
; 55   :                 DeallocateHeapArea();

  0002c	e8 00 00 00 00	 call	 ?DeallocateHeapArea@Internal@Core@Math@Palmtree@@YAXXZ ; Palmtree::Math::Core::Internal::DeallocateHeapArea
$LN13@DllMain:

; 62   :         }

  00031	b8 01 00 00 00	 mov	 eax, 1
  00036	48 83 c4 28	 add	 rsp, 40			; 00000028H
  0003a	c3		 ret	 0
DllMain	ENDP
_TEXT	ENDS
END
